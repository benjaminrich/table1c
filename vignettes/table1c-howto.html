<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Certara PMxO R Tools Workstream" />


<title>User Guide: How to Create Tables of Baseline Characteristics (Descriptive Statistics)</title>

<style type="text/css">.Rtable1 table, table.Rtable1 {font-family: "Times New Roman", Times, serif;font-size: 10pt;border-collapse: collapse;padding: 0px;margin: 0px;margin-bottom: 1pt;}.Rtable1 th, .Rtable1 td {background-color: white;border: 0;text-align: center;padding: 0.1em 0.3em;margin: 0px;}.Rtable1 th.grouplabel {padding-left: 0;padding-right: 0;}.Rtable1 th.grouplabel:last-child>div {margin-right: 0;}.Rtable1 .rowlabel {text-align: left;padding-left: 1.0em;}.Rtable1 .varlabel {font-weight: bold;}.Rtable1 thead>tr:first-child>th {border-top: 2pt solid black;}.Rtable1 thead>tr:last-child>th {border-bottom: 1pt solid black;}.Rtable1 tbody>tr:last-child>td {border-bottom: 2pt solid black;}.Rtable1 .firstrow, .Rtable1 .firstrow ~ td {padding-left: 0.1em;}.Rtable1 td {white-space:nowrap;}.Rtable1-footnote {font-family: "Times New Roman", Times, serif;font-size: 9pt;padding: 0px;margin: 0px;}</style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">User Guide: How to Create Tables of Baseline Characteristics (Descriptive Statistics)</h1>
<h4 class="author">Certara PMxO R Tools Workstream</h4>
<h4 class="date">02-Jul-2020</h4>


<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#using-a-data-specification-file">Using a Data Specification File</a><ul>
<li><a href="#what-is-yaml">What is YAML?</a></li>
<li><a href="#the-data-specification-file">The data specification file</a></li>
<li><a href="#reading-a-dataset-from-its-specification">Reading a dataset from its specification</a></li>
</ul></li>
<li><a href="#abbreviations-in-a-footnote">Abbreviations in a footnote</a></li>
<li><a href="#tables-of-baseline-characteristics">Tables of Baseline Characteristics</a><ul>
<li><a href="#summary-of-baseline-characteristics-in-the-pk-population-demographic">Summary of Baseline Characteristics in the PK Population – Demographic</a></li>
<li><a href="#summary-of-baseline-characteristics-in-the-pk-population-laboratory-tests">Summary of Baseline Characteristics in the PK Population – Laboratory Tests</a></li>
<li><a href="#summary-of-study-level-characteristics-in-the-pk-population">Summary of Study Level Characteristics in the PK Population</a></li>
</ul></li>
<li><a href="#r-session-information">R session information</a></li>
</ul>
</div>

<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>The <code>table1c</code> package is a light wrapper around the package <a href="https://CRAN.R-project.org/package=table1">table1</a>, with some customizations for the convenience of Certara IDD.</p>
<p>This vignette serves as User Guide for the package. We run through an example using a simulated dataset <code>Xyz-pk.csv</code> with data pooled from three hypothetical studies. This dataset is in the style of a NONMEM PopPK dataset. Click <a href="Xyz-pk.csv">here</a> to download it (note: due to a <a href="https://stackoverflow.com/questions/56761809/downloading-opening-csv-file-using-google-chrome-it-changes-extension-of-csv">Chrome bug</a> the file may download with a .xls extension, which is incorrect; find the file where it was saved and change it to .csv).</p>
<p>(<strong>Note:</strong> The dataset has column names in all lower case letters, versus the more traditional upper case used in NONMEM. This is preferred because we end up typing these names a lot, and by avoiding the strain of multi-key combinations needed for capital letters it is not only faster to type, but also decreases the risk of <a href="https://www.nhs.uk/live-well/healthy-body/tips-to-prevent-rsi/">repetitive strain injury</a>.)</p>
</div>
<div id="using-a-data-specification-file" class="section level1">
<h1>Using a Data Specification File</h1>
<p>One of the benefits of this package is the ability to separate meta-data (data about data) from scripting logic, by segregating meta-data into a central location (the data specification file), which results in scripts that are simpler, more generic and re-usable.</p>
<p>The data specification is written in YAML (see below), a suitable language for encoding data or meta-data, which allows it to be clear and concise. (Note: currently this file needs to be written by hand, but in the future it’s generation may be partially or fully automated.)</p>
<div id="what-is-yaml" class="section level2">
<h2>What is YAML?</h2>
<p><a href="https://yaml.org/">YAML</a> is a markup language for encoding structured data, similar to XML or JSON, but more geared towards human readability (you may already be familiar with YAML since it is used in the header of R markdown documents). It has the advantage of being both very easy for humans to read and write, as well as machine parseable (because although it looks natural, it actually has strict syntactic rules), with support in many popular languages, including R. You can edit YAML files in RStudio (with syntax highlighting).</p>
</div>
<div id="the-data-specification-file" class="section level2">
<h2>The data specification file</h2>
<p>The way YAML works is best illustrated with an example. The current directory contains the file <code>data_spec.yaml</code> which contains the following:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">dataset:</span><span class="at">     Xyz-pk.csv</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="fu">labels:</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="fu">sex:</span><span class="at">       Sex</span></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="fu">race:</span><span class="at">      Race</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="fu">ethnic:</span><span class="at">    Ethnicity</span></a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="fu">hv:</span><span class="at">        Healthy Volunteer</span></a>
<a class="sourceLine" id="cb1-8" title="8">  <span class="fu">age:</span><span class="at">       Age (y)</span></a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="fu">agecat:</span><span class="at">    Age Group</span></a>
<a class="sourceLine" id="cb1-10" title="10">  <span class="fu">wt:</span><span class="at">        Body Weight (kg)</span></a>
<a class="sourceLine" id="cb1-11" title="11">  <span class="fu">ht:</span><span class="at">        Height (cm)</span></a>
<a class="sourceLine" id="cb1-12" title="12">  <span class="fu">bmi:</span><span class="at">       BMI (kg/m²)</span></a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="fu">bsa:</span><span class="at">       BSA (m²)</span></a>
<a class="sourceLine" id="cb1-14" title="14">  <span class="fu">alb:</span><span class="at">       Albumin (g/L)</span></a>
<a class="sourceLine" id="cb1-15" title="15">  <span class="fu">alp:</span><span class="at">       ALP (U/L)</span></a>
<a class="sourceLine" id="cb1-16" title="16">  <span class="fu">alt:</span><span class="at">       ALT (U/L)</span></a>
<a class="sourceLine" id="cb1-17" title="17">  <span class="fu">ast:</span><span class="at">       AST (U/L)</span></a>
<a class="sourceLine" id="cb1-18" title="18">  <span class="fu">bili:</span><span class="at">      Bilirubin (µmol/L)</span></a>
<a class="sourceLine" id="cb1-19" title="19">  <span class="fu">crcl:</span><span class="at">      CrCL (mL/min)</span></a>
<a class="sourceLine" id="cb1-20" title="20">  <span class="fu">fdarenal:</span><span class="at">  Renal Impairment, FDA Classification</span></a>
<a class="sourceLine" id="cb1-21" title="21">  <span class="fu">form:</span><span class="at">      Formulation</span></a>
<a class="sourceLine" id="cb1-22" title="22">  <span class="fu">fasted:</span><span class="at">    Fasting Status</span></a>
<a class="sourceLine" id="cb1-23" title="23"></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="fu">categoricals:</span></a>
<a class="sourceLine" id="cb1-25" title="25">  <span class="fu">study:</span></a>
<a class="sourceLine" id="cb1-26" title="26">    <span class="kw">-</span> <span class="fu">1:</span><span class="at"> Xyz-hv-01</span></a>
<a class="sourceLine" id="cb1-27" title="27">    <span class="kw">-</span> <span class="fu">2:</span><span class="at"> Xyz-ri-02</span></a>
<a class="sourceLine" id="cb1-28" title="28">    <span class="kw">-</span> <span class="fu">7:</span><span class="at"> Xyz-ph3-07</span></a>
<a class="sourceLine" id="cb1-29" title="29">  <span class="fu">sex:</span></a>
<a class="sourceLine" id="cb1-30" title="30">    <span class="kw">-</span> <span class="fu">0:</span><span class="at"> Male</span></a>
<a class="sourceLine" id="cb1-31" title="31">    <span class="kw">-</span> <span class="fu">1:</span><span class="at"> Female</span></a>
<a class="sourceLine" id="cb1-32" title="32">  <span class="fu">race:</span></a>
<a class="sourceLine" id="cb1-33" title="33">    <span class="kw">-</span> <span class="fu">1:</span><span class="at"> White</span></a>
<a class="sourceLine" id="cb1-34" title="34">    <span class="kw">-</span> <span class="fu">2:</span><span class="at"> Black or African American</span></a>
<a class="sourceLine" id="cb1-35" title="35">    <span class="kw">-</span> <span class="fu">3:</span><span class="at"> Asian</span></a>
<a class="sourceLine" id="cb1-36" title="36">    <span class="kw">-</span> <span class="fu">4:</span><span class="at"> American Indian or Alaskan Native</span></a>
<a class="sourceLine" id="cb1-37" title="37">    <span class="kw">-</span> <span class="fu">5:</span><span class="at"> Native Hawaiian or Other Pacific Islander</span></a>
<a class="sourceLine" id="cb1-38" title="38">    <span class="kw">-</span> <span class="fu">6:</span><span class="at"> Multiple or Other</span></a>
<a class="sourceLine" id="cb1-39" title="39">  <span class="fu">ethnic:</span></a>
<a class="sourceLine" id="cb1-40" title="40">    <span class="kw">-</span> <span class="fu">1:</span><span class="at"> Not Hispanic or Latino</span></a>
<a class="sourceLine" id="cb1-41" title="41">    <span class="kw">-</span> <span class="fu">2:</span><span class="at"> Hispanic or Latino</span></a>
<a class="sourceLine" id="cb1-42" title="42">    <span class="kw">-</span> <span class="fu">-99:</span><span class="at"> Not reported</span></a>
<a class="sourceLine" id="cb1-43" title="43">  <span class="fu">agecat:</span></a>
<a class="sourceLine" id="cb1-44" title="44">    <span class="kw">-</span> <span class="fu">0:</span><span class="at"> &lt; 65 years</span></a>
<a class="sourceLine" id="cb1-45" title="45">    <span class="kw">-</span> <span class="fu">1:</span><span class="at"> </span><span class="st">&quot;</span><span class="sc">\u2265</span><span class="st"> 65 years&quot;</span></a>
<a class="sourceLine" id="cb1-46" title="46">  <span class="fu">hv:</span></a>
<a class="sourceLine" id="cb1-47" title="47">    <span class="kw">-</span> <span class="fu">1:</span><span class="at"> Healthy Subject</span></a>
<a class="sourceLine" id="cb1-48" title="48">    <span class="kw">-</span> <span class="fu">0:</span><span class="at"> Patient</span></a>
<a class="sourceLine" id="cb1-49" title="49">  <span class="fu">fdarenal:</span></a>
<a class="sourceLine" id="cb1-50" title="50">    <span class="kw">-</span> <span class="fu">0:</span><span class="at"> Normal</span></a>
<a class="sourceLine" id="cb1-51" title="51">    <span class="kw">-</span> <span class="fu">1:</span><span class="at"> Mild</span></a>
<a class="sourceLine" id="cb1-52" title="52">    <span class="kw">-</span> <span class="fu">2:</span><span class="at"> Moderate</span></a>
<a class="sourceLine" id="cb1-53" title="53">    <span class="kw">-</span> <span class="fu">3:</span><span class="at"> Severe</span></a>
<a class="sourceLine" id="cb1-54" title="54">  <span class="fu">form:</span></a>
<a class="sourceLine" id="cb1-55" title="55">    <span class="kw">-</span> <span class="fu">1:</span><span class="at"> Capsule</span></a>
<a class="sourceLine" id="cb1-56" title="56">    <span class="kw">-</span> <span class="fu">2:</span><span class="at"> Tablet</span></a>
<a class="sourceLine" id="cb1-57" title="57">  <span class="fu">fasted:</span></a>
<a class="sourceLine" id="cb1-58" title="58">    <span class="kw">-</span> <span class="fu">0:</span><span class="at"> Fed</span></a>
<a class="sourceLine" id="cb1-59" title="59">    <span class="kw">-</span> <span class="fu">1:</span><span class="at"> Fasted</span></a>
<a class="sourceLine" id="cb1-60" title="60">    <span class="kw">-</span> <span class="fu">-99:</span><span class="at"> Unknown</span></a></code></pre></div>
<p>The meaning of the file contents is intuitively clear. Indentation is used to denote hierarchical structure. Line breaks separate items from each other. Other whitespace is mostly ignored (except inside strings). Data structures come in 2 forms: sequential (i.e. lists) and named (i.e. dictionaries). For sequential data, each element is preceded by a dash and whitespace (e.g. <code>- item</code>); thus, it looks the way one would write a list in a plain-text e-mail, for instance. Named data consists of key-value pairs, where a colon and whitespace separate the key from the value (e.g. <code>key: value</code>); if the value is itself a nested structure, it can appear indented starting on the next line (same for list items). Primitive types (numbers, strings) are written the way one would write them naturally. In most cases, strings to not need to be quoted (but they can be); there are some exceptions though. Strings can contain Unicode symbols. For more details on the syntax, see the <a href="https://yaml.org/spec/1.2/spec.html">YAML documentation</a>.</p>
<p>In the example above, the whole file encodes a named structure, with 3 top-level items: <code>dataset</code>, <code>labels</code> and <code>categoricals</code>. The <code>dataset</code> item contains a single string, the name of a .csv file that contains the data to which this meta-data is associated. The <code>labels</code> item contains another named structure: key-value pairs of column names and associated labels. The last item, <code>categoricals</code>, contains information on the coding of certain variables (i.e., variables that are really categorical but have been assigned numeric codes in the dataset). When the data is presented in a table, these variables should be translated back to their original descriptive identifiers. Nested within the <code>categoricals</code> item is another named structure. Here, the names correspond to columns in the dataset, and the values are lists, whereby each list item relates a (numeric) code to its (string) identifier.</p>
<p>(Note: currently this file needs to be written by hand, but in the future its generation could be partially or fully automated.)</p>
</div>
<div id="reading-a-dataset-from-its-specification" class="section level2">
<h2>Reading a dataset from its specification</h2>
<p>With the <code>data_spec.yaml</code> file above, we can use the <code>read_from_spec()</code> function to read the data and have it augmented with the meta-data from the spec file:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># Read in the data from its &#39;spec&#39;</span></a>
<a class="sourceLine" id="cb2-2" title="2">dat &lt;-<span class="st"> </span><span class="kw">read_from_spec</span>(<span class="st">&quot;data_spec.yaml&quot;</span>)</a></code></pre></div>
<p>Note that we did not need to include the name of the data file in our script, since it is contained in the spec.</p>
<p>Before proceeding to describe the baseline characteristics of our study subjects, we need to make sure that each individual is only counted once. There is a convenience function for that:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># Filter the data, one row per ID</span></a>
<a class="sourceLine" id="cb3-2" title="2">dat &lt;-<span class="st"> </span><span class="kw">one_row_per_id</span>(dat, <span class="st">&quot;id&quot;</span>)</a></code></pre></div>
<p>Only columns that are invariant (and hence unambiguous) within each ID level are retained.</p>
<p>Here are six random rows of the resulting dataset:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">dat[<span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(dat), <span class="dv">6</span>),]</a></code></pre></div>
<pre><code>##      id      study    sex              race                 ethnic
## 928 159 Xyz-ph3-07 Female             White     Hispanic or Latino
## 118  14  Xyz-hv-01   Male             White Not Hispanic or Latino
## 442  50  Xyz-ri-02 Female Multiple or Other Not Hispanic or Latino
## 764 118 Xyz-ph3-07 Female             White Not Hispanic or Latino
## 379  43  Xyz-ri-02 Female             Asian           Not reported
## 968 169 Xyz-ph3-07 Female             White Not Hispanic or Latino
##                  hv    form  fasted age        agecat       wt       ht
## 928         Patient  Tablet Unknown  40 &amp;lt; 65 years 69.11780 162.6218
## 118 Healthy Subject Capsule     Fed  32 &amp;lt; 65 years 94.09640 178.6365
## 442         Patient  Tablet  Fasted  79    = 65 years 46.29503 154.5257
## 764         Patient  Tablet Unknown  37 &amp;lt; 65 years 63.69094 168.2729
## 379         Patient  Tablet  Fasted  67    = 65 years 75.17084 156.0623
## 968         Patient  Tablet Unknown  69    = 65 years 51.20350 149.6104
##          bmi      bsa      alb       alp      alt      ast      bili     creat
## 928 26.13560 1.742997 41.39164  59.16552 20.20104 29.25946  5.831341  59.48539
## 118 29.48715 2.127224 42.39993 102.36809 29.20991 29.82011 15.139345 106.61792
## 442 19.38798 1.416590 37.22390 140.36920 11.99238 29.56350  8.078682 159.12966
## 764 22.49309 1.725678 41.66294  66.00227 10.89596 58.22654  6.864295  46.61096
## 379 30.86407 1.753188 36.73265 131.09500 17.25876 15.40761 10.866950 183.66983
## 968 22.87580 1.444328 35.25484  60.00767 23.62474 16.59708  8.345510  65.85870
##          crcl fdarenal
## 928 121.26020   Normal
## 118 117.02707   Normal
## 442  18.52046   Severe
## 764 146.88099   Normal
## 379  31.17979 Moderate
## 968  57.60809 Moderate</code></pre>
<p>Note that the categorical variables (which were numeric in the original .csv file) have been translated to factors, with the appropriate textual labels, and in the desired order. Compared to the corresponding R code that would be needed to achieve this, the YAML specification is much cleaner and more concise. Similarly for the label attributes.</p>
<p><strong>Note on preserving label attributes</strong>: in most cases, subsetting a <code>data.frame</code> results in the label attributes being stripped away. The function <code>subsetp()</code> (‘p’ for <em>preserve</em>) can be used to avoid this. (It is used internally in <code>one_row_per_id()</code>, for instance.)</p>
</div>
</div>
<div id="abbreviations-in-a-footnote" class="section level1">
<h1>Abbreviations in a footnote</h1>
<p>By convention, it is required that all abbreviations appearing in a table (or figure) be spelled out in full in a footnote. The package contains a mechanism for generating such footnotes in a convenient, semi-automated way. It uses a higher-order function (i.e., a function that returns a new function) called <code>make_abbrev_footnote()</code>. It again uses a YAML file (or a simple <code>list</code>), in this case to specify a complete list of abbreviations that can be drawn from.</p>
<p>In this example, the current directory contains the file <code>abbrevs.yaml</code>, the contents of which are as follows:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb6-1" title="1"><span class="fu">ALP  :</span><span class="at"> alkaline phosphatase</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="fu">ALT  :</span><span class="at"> alanine aminotransferase</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="fu">AST  :</span><span class="at"> aspartate aminotransferase</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="fu">BMI  :</span><span class="at"> body mass index</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="fu">BSA  :</span><span class="at"> body surface area</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="fu">CrCL :</span><span class="at"> creatinine clearance</span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="fu">SD   :</span><span class="at"> standard deviation</span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="fu">CV   :</span><span class="at"> coefficient of variation</span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="fu">Max  :</span><span class="at"> maximum</span></a>
<a class="sourceLine" id="cb6-10" title="10"><span class="fu">Min  :</span><span class="at"> minimum</span></a>
<a class="sourceLine" id="cb6-11" title="11"><span class="fu">&quot;N&quot;  :</span><span class="at"> number of subjects</span></a>
<a class="sourceLine" id="cb6-12" title="12"><span class="fu">NCI  :</span><span class="at"> National Cancer Institute</span></a>
<a class="sourceLine" id="cb6-13" title="13"><span class="fu">FDA  :</span><span class="at"> Food and Drug Administration</span></a></code></pre></div>
<p>The meaning of this file is pretty self-explanatory.</p>
<p>To use this file, we pass it’s name to the function <code>make_abbrev_footnote()</code>, which returns a new function that now knows how to expand the abbreviations in the YAML file to generate a string that can be passed to the <code>footnote</code> argument of <code>table1()</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="co"># Set up function for abbreviation footnotes</span></a>
<a class="sourceLine" id="cb7-2" title="2">abbrev_footnote &lt;-<span class="st"> </span><span class="kw">make_abbrev_footnote</span>(<span class="st">&quot;abbrevs.yaml&quot;</span>)</a></code></pre></div>
<p>We can test it out:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">abbrev_footnote</span>(<span class="st">&quot;N&quot;</span>, <span class="st">&quot;FDA&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;FDA=Food and Drug Administration; N=number of subjects.&quot;</code></pre>
<p>Note that in the result (by default), the abbreviations are sorted alphabetically. Thus, the idea is to identify the abbreviations that appear in the table, and pass them as string arguments (in any order) to the newly created <code>abbrev_footnote</code> function.</p>
</div>
<div id="tables-of-baseline-characteristics" class="section level1">
<h1>Tables of Baseline Characteristics</h1>
<p>To recap, so far our script has 3 lines of code:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="co"># Read in the data from its &#39;spec&#39;</span></a>
<a class="sourceLine" id="cb10-2" title="2">dat &lt;-<span class="st"> </span><span class="kw">read_from_spec</span>(<span class="st">&quot;data_spec.yaml&quot;</span>)</a>
<a class="sourceLine" id="cb10-3" title="3"></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="co"># Filter the data, one row per ID</span></a>
<a class="sourceLine" id="cb10-5" title="5">dat &lt;-<span class="st"> </span><span class="kw">one_row_per_id</span>(dat, <span class="st">&quot;id&quot;</span>)</a>
<a class="sourceLine" id="cb10-6" title="6"></a>
<a class="sourceLine" id="cb10-7" title="7"><span class="co"># Set up function for abbreviation footnotes</span></a>
<a class="sourceLine" id="cb10-8" title="8">abbrev_footnote &lt;-<span class="st"> </span><span class="kw">make_abbrev_footnote</span>(<span class="st">&quot;abbrevs.yaml&quot;</span>)</a></code></pre></div>
<p>That is all we need to be able to start creating our tables!</p>
<p>The variables to include in the table are specified using a one-sided formula, with stratification denoted by conditioning (i.e., the name of the stratification variable appears to the right of a vertical bar).</p>
<p>In this case, the data contains three studies, and the descriptive statistics are presented stratified by study, and overall. In general, if there are multiple studies it makes sense to stratify by study, and if there is a single study, there is usually some other variable that it makes sense to stratify on, like treatment arm or cohort.</p>
<p>In this example, I have split the baseline characteristics into several tables by logical grouping, simply because there are too many of them to fit comfortably in a single table. The logical groups I have used are:</p>
<ul>
<li>Demographics</li>
<li>Laboratory tests</li>
<li>Study level covariates</li>
</ul>
<p>And here are the results:</p>
<div id="summary-of-baseline-characteristics-in-the-pk-population-demographic" class="section level2">
<h2>Summary of Baseline Characteristics in the PK Population – Demographic</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">table1</span>(<span class="op">~</span><span class="st"> </span>sex <span class="op">+</span><span class="st"> </span>race <span class="op">+</span><span class="st"> </span>ethnic <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>agecat <span class="op">+</span><span class="st"> </span>wt <span class="op">+</span><span class="st"> </span>ht <span class="op">+</span><span class="st"> </span>bmi <span class="op">+</span><span class="st"> </span>bsa <span class="op">+</span><span class="st"> </span>fdarenal <span class="op">|</span><span class="st"> </span>study, <span class="dt">data=</span>dat,</a>
<a class="sourceLine" id="cb11-2" title="2">  <span class="dt">footnote=</span><span class="kw">abbrev_footnote</span>(<span class="st">&quot;BMI&quot;</span>, <span class="st">&quot;BSA&quot;</span>, <span class="st">&quot;FDA&quot;</span>, <span class="st">&quot;SD&quot;</span>, <span class="st">&quot;Min&quot;</span>, <span class="st">&quot;Max&quot;</span>, <span class="st">&quot;N&quot;</span>))</a></code></pre></div>
<div class="Rtable1"><table class="Rtable1">
<thead>
<tr>
<th class='rowlabel firstrow lastrow'></th>
<th class='firstrow lastrow'><span class='stratlabel'>Xyz-hv-01<br><span class='stratn'>(N=16)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>Xyz-ri-02<br><span class='stratn'>(N=43)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>Xyz-ph3-07<br><span class='stratn'>(N=111)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=170)</span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Sex</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Male</td>
<td>16 (100%)</td>
<td>22 (51.2%)</td>
<td>50 (45.0%)</td>
<td>88 (51.8%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Female</td>
<td class='lastrow'>0 (0%)</td>
<td class='lastrow'>21 (48.8%)</td>
<td class='lastrow'>61 (55.0%)</td>
<td class='lastrow'>82 (48.2%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Race</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>White</td>
<td>16 (100%)</td>
<td>19 (44.2%)</td>
<td>62 (55.9%)</td>
<td>97 (57.1%)</td>
</tr>
<tr>
<td class='rowlabel'>Black or African American</td>
<td>0 (0%)</td>
<td>4 (9.3%)</td>
<td>12 (10.8%)</td>
<td>16 (9.4%)</td>
</tr>
<tr>
<td class='rowlabel'>Asian</td>
<td>0 (0%)</td>
<td>10 (23.3%)</td>
<td>18 (16.2%)</td>
<td>28 (16.5%)</td>
</tr>
<tr>
<td class='rowlabel'>American Indian or Alaskan Native</td>
<td>0 (0%)</td>
<td>4 (9.3%)</td>
<td>5 (4.5%)</td>
<td>9 (5.3%)</td>
</tr>
<tr>
<td class='rowlabel'>Native Hawaiian or Other Pacific Islander</td>
<td>0 (0%)</td>
<td>2 (4.7%)</td>
<td>3 (2.7%)</td>
<td>5 (2.9%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Multiple or Other</td>
<td class='lastrow'>0 (0%)</td>
<td class='lastrow'>4 (9.3%)</td>
<td class='lastrow'>11 (9.9%)</td>
<td class='lastrow'>15 (8.8%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Ethnicity</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Not Hispanic or Latino</td>
<td>16 (100%)</td>
<td>36 (83.7%)</td>
<td>92 (82.9%)</td>
<td>144 (84.7%)</td>
</tr>
<tr>
<td class='rowlabel'>Hispanic or Latino</td>
<td>0 (0%)</td>
<td>4 (9.3%)</td>
<td>10 (9.0%)</td>
<td>14 (8.2%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Not reported</td>
<td class='lastrow'>0 (0%)</td>
<td class='lastrow'>3 (7.0%)</td>
<td class='lastrow'>9 (8.1%)</td>
<td class='lastrow'>12 (7.1%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Age (y)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>35.4 (6.09)</td>
<td>48.7 (18.1)</td>
<td>47.4 (17.1)</td>
<td>46.6 (17.0)</td>
</tr>
<tr>
<td class='rowlabel'>Median (CV%)</td>
<td>34.0 (17.2)</td>
<td>45.0 (37.1)</td>
<td>47.0 (36.0)</td>
<td>43.5 (36.4)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>[Min, Max]</td>
<td class='lastrow'>[28.0, 45.0]</td>
<td class='lastrow'>[19.0, 79.0]</td>
<td class='lastrow'>[20.0, 80.0]</td>
<td class='lastrow'>[19.0, 80.0]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Age Group</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>&lt; 65 years</td>
<td>16 (100%)</td>
<td>34 (79.1%)</td>
<td>88 (79.3%)</td>
<td>138 (81.2%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>≥ 65 years</td>
<td class='lastrow'>0 (0%)</td>
<td class='lastrow'>9 (20.9%)</td>
<td class='lastrow'>23 (20.7%)</td>
<td class='lastrow'>32 (18.8%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Body Weight (kg)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>76.7 (15.6)</td>
<td>73.0 (15.6)</td>
<td>69.7 (15.1)</td>
<td>71.2 (15.3)</td>
</tr>
<tr>
<td class='rowlabel'>Median (CV%)</td>
<td>72.5 (20.3)</td>
<td>74.2 (21.4)</td>
<td>69.0 (21.7)</td>
<td>71.4 (21.6)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>[Min, Max]</td>
<td class='lastrow'>[53.1, 108]</td>
<td class='lastrow'>[45.0, 102]</td>
<td class='lastrow'>[35.9, 119]</td>
<td class='lastrow'>[35.9, 119]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Height (cm)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>178 (7.91)</td>
<td>169 (12.0)</td>
<td>169 (10.0)</td>
<td>170 (10.7)</td>
</tr>
<tr>
<td class='rowlabel'>Median (CV%)</td>
<td>178 (4.5)</td>
<td>169 (7.1)</td>
<td>168 (5.9)</td>
<td>170 (6.3)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>[Min, Max]</td>
<td class='lastrow'>[165, 196]</td>
<td class='lastrow'>[142, 192]</td>
<td class='lastrow'>[146, 192]</td>
<td class='lastrow'>[142, 196]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>BMI (kg/m²)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>24.2 (3.94)</td>
<td>25.8 (5.26)</td>
<td>24.3 (4.09)</td>
<td>24.7 (4.42)</td>
</tr>
<tr>
<td class='rowlabel'>Median (CV%)</td>
<td>25.2 (16.3)</td>
<td>25.4 (20.4)</td>
<td>24.0 (16.8)</td>
<td>24.3 (17.9)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>[Min, Max]</td>
<td class='lastrow'>[17.4, 29.5]</td>
<td class='lastrow'>[16.1, 39.5]</td>
<td class='lastrow'>[15.6, 38.8]</td>
<td class='lastrow'>[15.6, 39.5]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>BSA (m²)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>1.94 (0.212)</td>
<td>1.82 (0.224)</td>
<td>1.79 (0.223)</td>
<td>1.81 (0.225)</td>
</tr>
<tr>
<td class='rowlabel'>Median (CV%)</td>
<td>1.87 (10.9)</td>
<td>1.79 (12.3)</td>
<td>1.77 (12.4)</td>
<td>1.79 (12.4)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>[Min, Max]</td>
<td class='lastrow'>[1.58, 2.41]</td>
<td class='lastrow'>[1.32, 2.24]</td>
<td class='lastrow'>[1.25, 2.32]</td>
<td class='lastrow'>[1.25, 2.41]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Renal Impairment, FDA Classification</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Normal</td>
<td>16 (100%)</td>
<td>1 (2.3%)</td>
<td>76 (68.5%)</td>
<td>93 (54.7%)</td>
</tr>
<tr>
<td class='rowlabel'>Mild</td>
<td>0 (0%)</td>
<td>8 (18.6%)</td>
<td>25 (22.5%)</td>
<td>33 (19.4%)</td>
</tr>
<tr>
<td class='rowlabel'>Moderate</td>
<td>0 (0%)</td>
<td>30 (69.8%)</td>
<td>10 (9.0%)</td>
<td>40 (23.5%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Severe</td>
<td class='lastrow'>0 (0%)</td>
<td class='lastrow'>4 (9.3%)</td>
<td class='lastrow'>0 (0%)</td>
<td class='lastrow'>4 (2.4%)</td>
</tr>
</tbody>
</table>
<p class="Rtable1-footnote">BMI=body mass index; BSA=body surface area; FDA=Food and Drug Administration; Max=maximum; Min=minimum; N=number of subjects; SD=standard deviation.</p>
</div>
</div>
<div id="summary-of-baseline-characteristics-in-the-pk-population-laboratory-tests" class="section level2">
<h2>Summary of Baseline Characteristics in the PK Population – Laboratory Tests</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">table1</span>(<span class="op">~</span><span class="st"> </span>alb <span class="op">+</span><span class="st"> </span>alp <span class="op">+</span><span class="st"> </span>alt <span class="op">+</span><span class="st"> </span>ast <span class="op">+</span><span class="st"> </span>bili <span class="op">+</span><span class="st"> </span>crcl <span class="op">|</span><span class="st"> </span>study, <span class="dt">data=</span>dat,</a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="dt">footnote=</span><span class="kw">abbrev_footnote</span>(<span class="st">&quot;ALP&quot;</span>, <span class="st">&quot;ALT&quot;</span>, <span class="st">&quot;AST&quot;</span>, <span class="st">&quot;CrCL&quot;</span>, <span class="st">&quot;SD&quot;</span>, <span class="st">&quot;Min&quot;</span>, <span class="st">&quot;Max&quot;</span>, <span class="st">&quot;N&quot;</span>))</a></code></pre></div>
<div class="Rtable1"><table class="Rtable1">
<thead>
<tr>
<th class='rowlabel firstrow lastrow'></th>
<th class='firstrow lastrow'><span class='stratlabel'>Xyz-hv-01<br><span class='stratn'>(N=16)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>Xyz-ri-02<br><span class='stratn'>(N=43)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>Xyz-ph3-07<br><span class='stratn'>(N=111)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=170)</span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Albumin (g/L)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>46.2 (4.74)</td>
<td>41.4 (4.27)</td>
<td>41.8 (4.18)</td>
<td>42.1 (4.44)</td>
</tr>
<tr>
<td class='rowlabel'>Median (CV%)</td>
<td>45.6 (10.2)</td>
<td>41.6 (10.3)</td>
<td>41.6 (10.0)</td>
<td>42.0 (10.5)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>[Min, Max]</td>
<td class='lastrow'>[39.1, 55.9]</td>
<td class='lastrow'>[33.2, 49.4]</td>
<td class='lastrow'>[32.7, 51.3]</td>
<td class='lastrow'>[32.7, 55.9]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>ALP (U/L)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>74.0 (39.4)</td>
<td>82.6 (35.9)</td>
<td>82.4 (33.1)</td>
<td>81.7 (34.3)</td>
</tr>
<tr>
<td class='rowlabel'>Median (CV%)</td>
<td>55.5 (53.3)</td>
<td>73.2 (43.5)</td>
<td>75.6 (40.1)</td>
<td>74.2 (42.0)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>[Min, Max]</td>
<td class='lastrow'>[29.8, 157]</td>
<td class='lastrow'>[31.5, 177]</td>
<td class='lastrow'>[21.2, 186]</td>
<td class='lastrow'>[21.2, 186]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>ALT (U/L)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>26.4 (16.3)</td>
<td>20.1 (11.7)</td>
<td>21.9 (15.4)</td>
<td>21.9 (14.7)</td>
</tr>
<tr>
<td class='rowlabel'>Median (CV%)</td>
<td>23.2 (61.6)</td>
<td>17.7 (58.3)</td>
<td>18.8 (70.4)</td>
<td>19.0 (67.1)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>[Min, Max]</td>
<td class='lastrow'>[10.8, 79.0]</td>
<td class='lastrow'>[6.36, 73.7]</td>
<td class='lastrow'>[4.43, 104]</td>
<td class='lastrow'>[4.43, 104]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>AST (U/L)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>28.5 (16.0)</td>
<td>25.1 (12.9)</td>
<td>24.5 (12.0)</td>
<td>25.0 (12.6)</td>
</tr>
<tr>
<td class='rowlabel'>Median (CV%)</td>
<td>25.9 (56.2)</td>
<td>22.7 (51.4)</td>
<td>21.0 (48.9)</td>
<td>21.7 (50.3)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>[Min, Max]</td>
<td class='lastrow'>[8.11, 62.1]</td>
<td class='lastrow'>[6.24, 65.4]</td>
<td class='lastrow'>[6.89, 69.3]</td>
<td class='lastrow'>[6.24, 69.3]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Bilirubin (µmol/L)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>10.0 (3.98)</td>
<td>8.49 (3.72)</td>
<td>10.0 (5.13)</td>
<td>9.63 (4.74)</td>
</tr>
<tr>
<td class='rowlabel'>Median (CV%)</td>
<td>9.68 (39.7)</td>
<td>8.24 (43.8)</td>
<td>8.66 (51.3)</td>
<td>8.64 (49.2)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>[Min, Max]</td>
<td class='lastrow'>[4.20, 15.3]</td>
<td class='lastrow'>[3.07, 18.3]</td>
<td class='lastrow'>[2.44, 32.6]</td>
<td class='lastrow'>[2.44, 32.6]</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>CrCL (mL/min)</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Mean (SD)</td>
<td>131 (31.1)</td>
<td>49.0 (16.1)</td>
<td>112 (42.3)</td>
<td>97.7 (46.4)</td>
</tr>
<tr>
<td class='rowlabel'>Median (CV%)</td>
<td>120 (23.7)</td>
<td>50.1 (32.9)</td>
<td>103 (37.8)</td>
<td>94.3 (47.5)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>[Min, Max]</td>
<td class='lastrow'>[96.1, 221]</td>
<td class='lastrow'>[18.5, 95.9]</td>
<td class='lastrow'>[38.2, 233]</td>
<td class='lastrow'>[18.5, 233]</td>
</tr>
</tbody>
</table>
<p class="Rtable1-footnote">ALP=alkaline phosphatase; ALT=alanine aminotransferase; AST=aspartate aminotransferase; CrCL=creatinine clearance; Max=maximum; Min=minimum; N=number of subjects; SD=standard deviation.</p>
</div>
</div>
<div id="summary-of-study-level-characteristics-in-the-pk-population" class="section level2">
<h2>Summary of Study Level Characteristics in the PK Population</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">table1</span>(<span class="op">~</span><span class="st"> </span>hv <span class="op">+</span><span class="st"> </span>form <span class="op">+</span><span class="st"> </span>fasted <span class="op">|</span><span class="st"> </span>study, <span class="dt">data=</span>dat,</a>
<a class="sourceLine" id="cb13-2" title="2">  <span class="dt">footnote=</span><span class="kw">abbrev_footnote</span>(<span class="st">&quot;N&quot;</span>))</a></code></pre></div>
<div class="Rtable1"><table class="Rtable1">
<thead>
<tr>
<th class='rowlabel firstrow lastrow'></th>
<th class='firstrow lastrow'><span class='stratlabel'>Xyz-hv-01<br><span class='stratn'>(N=16)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>Xyz-ri-02<br><span class='stratn'>(N=43)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>Xyz-ph3-07<br><span class='stratn'>(N=111)</span></span></th>
<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=170)</span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Healthy Volunteer</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Healthy Subject</td>
<td>16 (100%)</td>
<td>0 (0%)</td>
<td>0 (0%)</td>
<td>16 (9.4%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Patient</td>
<td class='lastrow'>0 (0%)</td>
<td class='lastrow'>43 (100%)</td>
<td class='lastrow'>111 (100%)</td>
<td class='lastrow'>154 (90.6%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Formulation</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Capsule</td>
<td>16 (100%)</td>
<td>0 (0%)</td>
<td>0 (0%)</td>
<td>16 (9.4%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Tablet</td>
<td class='lastrow'>0 (0%)</td>
<td class='lastrow'>43 (100%)</td>
<td class='lastrow'>111 (100%)</td>
<td class='lastrow'>154 (90.6%)</td>
</tr>
<tr>
<td class='rowlabel firstrow'><span class='varlabel'>Fasting Status</span></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
<td class='firstrow'></td>
</tr>
<tr>
<td class='rowlabel'>Fed</td>
<td>16 (100%)</td>
<td>18 (41.9%)</td>
<td>0 (0%)</td>
<td>34 (20.0%)</td>
</tr>
<tr>
<td class='rowlabel'>Fasted</td>
<td>0 (0%)</td>
<td>25 (58.1%)</td>
<td>0 (0%)</td>
<td>25 (14.7%)</td>
</tr>
<tr>
<td class='rowlabel lastrow'>Unknown</td>
<td class='lastrow'>0 (0%)</td>
<td class='lastrow'>0 (0%)</td>
<td class='lastrow'>111 (100%)</td>
<td class='lastrow'>111 (65.3%)</td>
</tr>
</tbody>
</table>
<p class="Rtable1-footnote">N=number of subjects.</p>
</div>
<p>For continuous variables, the arithmetic mean, standard deviation, median, coefficient of variation, minimum and maximum are displayed on 3 lines. For categorical variable the frequency and percentage (within each column) are shown, one line per category. Missing values, if any, will also be shown as count and percent. The following rounding rules are applied:</p>
<ul>
<li>All percentages are rounded to 1 decimal place, with the exception of 0% and 100% which are simply shown as is.</li>
<li>All other numbers are rounded to 3 significant digits. This includes numbers bigger than 1000 (so 123,456 gets rounded to 123,000 for instance).</li>
<li>A ‘5’ digit is always rounded up. This is NOT the usual convention in R (which follows the IEC 60559 standard), but IS the standard in Excel, for instance.</li>
</ul>
<p>Continuous and categorical variables can be mixed in the same table (note that age and age category are next to each other).</p>
<p>The above tables (including headings and footnotes) can be copied from the Chrome browser directly to a Word document (or Excel sheet). All formatting will be preserved (the one exception I have found is that in certain cases, superscripts or subscripts may be too small, so it might be necessary to reset the font site for the whole table to 10 pt). Pasting into PowerPoint works too, but does a less good a job at preserving the formatting, so it may be better to paste to a Word document first, and then copy that to PowerPoint (use the “Keep Source Formatting” option when pasting).</p>
<p>The complete example can be found on <a href="https://github.com/certara/table1c/tree/master/examples">GitHub</a>.</p>
</div>
</div>
<div id="r-session-information" class="section level1">
<h1>R session information</h1>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">sessionInfo</span>()</a></code></pre></div>
<pre><code>## R version 4.0.1 (2020-06-06)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 10 x64 (build 16299)
## 
## Matrix products: default
## 
## locale:
## [1] LC_COLLATE=English_United States.1252 
## [2] LC_CTYPE=English_United States.1252   
## [3] LC_MONETARY=English_United States.1252
## [4] LC_NUMERIC=C                          
## [5] LC_TIME=English_United States.1252    
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] table1c_0.8    devtools_2.3.0 usethis_1.6.1  table1_1.2     rmarkdown_2.2 
## [6] nvimcom_0.9-92
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.4.6      compiler_4.0.1    prettyunits_1.1.1 remotes_2.1.1    
##  [5] tools_4.0.1       testthat_2.3.2    digest_0.6.25     pkgbuild_1.0.8   
##  [9] pkgload_1.1.0     evaluate_0.14     memoise_1.1.0     rlang_0.4.6      
## [13] cli_2.0.2         rstudioapi_0.11   yaml_2.2.1        xopen_1.0.0      
## [17] xfun_0.14         xml2_1.3.2        roxygen2_7.1.0    withr_2.2.0      
## [21] stringr_1.4.0     knitr_1.28        desc_1.2.0        fs_1.4.1         
## [25] rprojroot_1.3-2   glue_1.4.1        R6_2.4.1          processx_3.4.2   
## [29] fansi_0.4.1       rcmdcheck_1.3.3   sessioninfo_1.1.1 Formula_1.2-3    
## [33] purrr_0.3.4       callr_3.4.3       magrittr_1.5      backports_1.1.7  
## [37] ps_1.3.3          ellipsis_0.3.1    htmltools_0.4.0   assertthat_0.2.1 
## [41] stringi_1.4.6     crayon_1.3.4</code></pre>
<!--- vim: ts=2 sw=2 et : --->
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
